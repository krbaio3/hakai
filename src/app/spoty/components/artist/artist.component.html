<div class="container mt-3">
  <div class="row">
    <div class="col-md-4">
      <img [src]="artista?.images | withOutPicture" [alt]="artista.name" class="img-thumbnail img-circular">
    </div>
    <div class="col-md-8">
      <h1 class="text-center">{{ artista.name | uppercase }}</h1>
      <hr>
      <br/>
      <a class="btn btn-outline-success btn-block" target="_blank" [href]="artista.external_urls?.spotify">Abrir en Spoty</a>
      <button class="btn btn-outline-danger btn-block" [routerLink]="['/search_spoty']">Volver</button>
    </div>
  </div>

  <div>
    <h2 class="text-left mt-5">Top Tracks</h2>
    <hr>
    <table class="table table-dark">
      <thead>
        <tr>
          <th>
            #
          </th>
          <th>
            Foto
          </th>
          <th>
            Nombre
          </th>
          <th>
            Popularidad
          </th>
          <th>
            Escuchar
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let track of tracks; let i = index">
          <td>
            {{ i + 1 }}
          </td>
          <td>
            <img alt [src]="track.album.images | withOutPicture" class="img-50">
          </td>
          <td>
            <label for="track.name">{{track.name}}</label>
          </td>
          <td>
            <label for="track.popularity">{{track.popularity}}</label>
          </td>
          <td>
            <!-- <audio controls>
             <source [src]="track.preview_url" >
             El navegador no lo soporta</audio> -->
            <iframe [src]="track.uri | domseguro: 'https://open.spotify.com/embed?uri='" width="300" height="80" frameborder="0"
              allowtransparency="true">
            </iframe>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
